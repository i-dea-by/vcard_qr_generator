# Генератор QR-кодов для визитных карточек (vCard)

Этот проект представляет собой простой скрипт на Python для генерации изображений QR-кодов, содержащих информацию о визитных карточках в формате vCard. QR-коды сохраняются в различных графических форматах (например, SVG, PNG, PDF, EPS).

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/i-dea-by/vcard_qr_generator.git
   cd vcard_qr_generator
   ```

2. Установите необходимые зависимости:

    - если используете pip
        ```bash
        pip install -r requirements.txt
        ```
    - тут используется uv, тогда:
        ```bash
        uv sync
        ```

> [!WARNING]
> ACHTUNG! Не пропустите следующий шаг :) а то вывалится с экспшеном `decouple.UndefinedValueError: PATH_TO_CSV not found`

3. Создайте файл .env на основе примера .env.example и заполните его необходимыми значениями, или переименуйте .env.example для использования готовыйх данных:

    Пример содержимого .env:

    ```ini
    READER=reader_example
    PATH_TO_CSV=data/example.csv
    PREFIX=231015
    POSTFIX=ru
    ```


## Почему через .env и программный импорт ридера?

Поскольку сам его использую, то, чтоб данные клиентов не утекли, поэтому индивидуальные настройки хранятся в .env, а специфичный для каждого клиента ридер в файле начинающегося с символа "_".
Можно переделать в свой ридер с полями как вам будет удобнее. Например, в `reader_example.py` используется колонка ФИО `displayname=row["ФИО"]`, можно переделать под свой .csv `displayname=row["fio_ru"]`, или как захочется.


## Использование

1. Подготовьте CSV-файл с данными для визитных карточек. Пример формата CSV можно найти в data/example.csv.

2. Запустите скрипт:

> [!WARNING]
> ACHTUNG!Алярма!!11 Если не используете uv, то не забудьте создать и активировать виртуальное окружение. Если конечно не ставите всё это в рутовый питон (:)


    ```bash
    python main.py
    ```
    или с использованием uv:
    ```bash
    uv run main.py
    ```

Скрипт создаст QR-коды для каждой визитной карточки и сохранит их в папку out/.


## Настройка

- Формат выходного файла: По умолчанию QR-коды сохраняются в формате SVG. Вы можете изменить формат, передав параметр ext в функцию create_qr_files (например, ext="png").

- Префикс и постфикс: Имена файлов формируются по шаблону {префикс}_{имя}_{постфикс}.{расширение}. Префикс и постфикс можно задать в файле .env или напрямую в коде.

- Логирование: Скрипт использует библиотеку loguru для логирования. Вы можете настроить уровень логирования и вывод в файл, если это необходимо.


## Зависимости

- segno: Для генерации QR-кодов.

- python-decouple: Для работы с переменными окружения.

- loguru: Для логирования.


## Лицензия

Этот проект распространяется под лицензией MIT.
